# relations
Search for the counterparties relations by the given counterparty.

Основною сутністю в ЄДР (і, отже, ring.org.ua) є картка об'єкта -- запис про деяку юрособу (фірму), що, зокрема, містить відомості про її засновників. Таким чином, пошук даних може здійснюватися за такими запитами:
1) ЄДРПОУ фірми -- найбільш точні відповідності, оскільки ЄДРПОУ -- це унікальні ідентифікатори;
2) назва фірми -- якщо шукати за повною назвою, то серед них не має бути багато дублів;
3) П.І.Б. засновнника -- можуть бути дублі, і ця проблема за допомогою відкритих даних не вирішується (бо ІПН, які є унікальними ідентифікаторами фізосіб, у відкритому доступі немає).

Опис даних наведено у папці description. Приклад даних по одній картці -- див. Result_36492837.json, опис полів -- у файлі CardDescription.txt.

Скрипти, що відповідають за парсинг, обробку даних та формування графа зв'язків, знаходяться у папці py. Їх призначення:
1) main.py -- основний скрипт, реалізовує логічну схему пошуку зв'язків до певного рівня (віддаленості від початкового запиту) включно;
2) ring_parser.py -- здійснює парсинг сайту ring.org.ua через його АРІ за заданим запитом; 
3) card_processor.py -- реалізовує обробку даних одної картки зі знайдених.

TODO: подумати, як можна уникати фальшивих зв'язків за дублями по П.І.Б. (перевірка за адресами не завжди можлива).

Граф зв'язків має записуватися до файлу json/graph.json, саме цей файл буде візуалізуватися. Також у папці json є кілька інших прикладів графів.

Інтерактивна візуалізація здійснюється за допомогою скрипта js/visual.js. TODO:
1) погратися з інерцією та силою тяжіння, щоб вершини графа не злипалися і не сильно розліталися;
2) зробити по кілька стрілок для зв'язків різного типу між одними й тими ж вершинами;
3) подумати, як краще розмістити написи -- П.І.Б. та назви фірм.
